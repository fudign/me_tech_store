# Phase 3: Admin Panel - Context

**Gathered:** 2026-01-23
**Status:** Ready for planning

<domain>
## Phase Boundary

Administrator has full control over all site content through OpenCart-style admin interface. This includes CRUD operations for products, categories, and site settings. Order management was already delivered in Phase 2 - this phase focuses on catalog and content control.

</domain>

<decisions>
## Implementation Decisions

### Форма продукта - Организация

- **Вкладочная структура**: 4 вкладки (не одна длинная страница)
  - Вкладка "Основное": название, описание, цена, категория, slug
  - Вкладка "Фото": загрузка и управление изображениями
  - Вкладка "Характеристики": динамический список пар ключ-значение
  - Вкладка "SEO": meta title, meta description

### Форма продукта - Поля и функциональность

- **Характеристики**: Динамический список пар ключ-значение
  - Кнопка "Добавить характеристику"
  - Два поля: название (Память, Цвет) и значение (256GB, Черный)
  - Можно удалять строки
  - Не фиксированный набор полей - администратор может добавлять любые

- **Slug товара**: Автоматическая генерация + ручное редактирование
  - Генерируется автоматически из названия при вводе
  - Отдельное поле для ручной правки slug

- **Поддержка скидок**: Два поля цены
  - Обычная цена (обязательное поле)
  - Акционная цена (опциональное поле)
  - Если акционная заполнена - старая зачеркивается на фронтенде

### Управление фото

- **Интерфейс загрузки**: Drag & Drop + кнопка выбора
  - Можно перетащить файлы мышкой в зону загрузки
  - Или нажать кнопку для выбора через file picker
  - Оба варианта доступны одновременно

- **Сортировка фото**: Кнопки Вверх/Вниз
  - У каждого фото стрелки для изменения позиции
  - Не drag & drop сортировка

- **Главное фото**: Radio button выбор
  - У каждого фото radio button
  - Можно отметить любое как главное (не обязательно первое)

### Навигация админ-панели

- **Структура меню**: Боковое меню (sidebar)
  - Статичное боковое меню слева
  - Стиль OpenCart
  - Всегда видно

- **Разделы в меню**:
  - **Каталог** (подменю):
    - Товары
    - Категории
  - **Заказы** (уже есть из Phase 2, нужно добавить в меню)
  - **Настройки** (телефон, адрес, email сайта)

### Валидация и обратная связь

- **Сообщения об успехе**: Баннер вверху страницы
  - Зеленый баннер "Товар сохранен" после перезагрузки страницы
  - Не toast уведомления

- **Подтверждение удаления**: Modal окно
  - Всплывающее окно "Вы уверены?"
  - Кнопки: Отмена / Удалить
  - Не браузерный confirm()

### Claude's Discretion

- Выбор категории товара: одна категория (dropdown) или множественный выбор
- Редактор описания: простое textarea или rich editor (TinyMCE/CKEditor)
- Статус товара: нужен ли checkbox "Опубликован" для черновиков
- Множественная загрузка фото: по одному или несколько сразу
- Содержимое Dashboard: статистика/графики, список последних заказов, или приветствие
- Мобильная версия админки: адаптивный дизайн или только desktop
- Отображение ошибок валидации: под каждым полем или список вверху формы
- Индикатор загрузки: spinner на кнопке, полноэкранный loader, или без индикации

</decisions>

<specifics>
## Specific Ideas

- "OpenCart-style admin interface" - боковое меню, таблицы списков, форма редактирования
- Вкладки в форме для организации большого количества полей
- Динамические характеристики для гибкости (разные товары - разные характеристики)

</specifics>

<deferred>
## Deferred Ideas

None - discussion stayed within phase scope

</deferred>

---

*Phase: 03-admin-panel*
*Context gathered: 2026-01-23*
